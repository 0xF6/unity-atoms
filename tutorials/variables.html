<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Variables · Unity Atoms</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# Variables and constants"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Variables · Unity Atoms"/><meta property="og:type" content="website"/><meta property="og:url" content="https://adamramberg.github.io/unity-atoms/"/><meta property="og:description" content="# Variables and constants"/><meta property="og:image" content="https://adamramberg.github.io/unity-atoms/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://adamramberg.github.io/unity-atoms/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/unity-atoms/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="/unity-atoms/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/unity-atoms/js/code-block-buttons.js"></script><script src="/unity-atoms/js/scrollSpy.js"></script><link rel="stylesheet" href="/unity-atoms/css/main.css"/><script src="/unity-atoms/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/unity-atoms/"><img class="logo" src="/unity-atoms/img/atoms-icon-white.png" alt="Unity Atoms"/><h2 class="headerTitleWithLogo">Unity Atoms</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/unity-atoms/introduction/quick-start" target="_self">Quick Start</a></li><li class="siteNavGroupActive"><a href="/unity-atoms/api/unityatoms" target="_self">API</a></li><li class=""><a href="https://www.github.com/AdamRamberg/unity-atoms" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Basics</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/unity-atoms/introduction/quick-start">Quick start</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/introduction/overview">Overview and philosopy</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/introduction/preferences">Preferences</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/introduction/faq">FAQ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tutorials</h3><ul class=""><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Basics</h4><ul><li class="navListItem navListItemActive"><a class="navItem" href="/unity-atoms/tutorials/variables">Variables</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/events">Events</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/listeners">Listeners</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/actions">Actions</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/mono-hooks">Mono Hooks</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Intermediate</h4><ul><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/variable-instancer">Variable Instancer</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/event-instancer">Event Instancer</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/generator">Generator</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/conditions">Conditions</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Advanced</h4><ul><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/advanced-example">Advanced example</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/tutorials/unirx">Usage with UniRX</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms">UnityAtoms</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.editor">UnityAtoms.Editor</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.baseatoms">UnityAtoms.BaseAtoms</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.baseatoms.editor">UnityAtoms.BaseAtoms.Editor</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.fsm">UnityAtoms.FSM</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.fsm.editor">UnityAtoms.FSM.Editor</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.inputsystem">UnityAtoms.InputSystem</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.inputsystem.editor">UnityAtoms.InputSystem.Editor</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.mobile">UnityAtoms.Mobile</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.mobile.editor">UnityAtoms.Mobile.Editor</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.monohooks">UnityAtoms.MonoHooks</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.scenemgmt">UnityAtoms.SceneMgmt</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.scenemgmt.editor">UnityAtoms.SceneMgmt.Editor</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.tags">UnityAtoms.Tags</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/api/unityatoms.ui">UnityAtoms.UI</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Subpackages</h3><ul class=""><li class="navListItem"><a class="navItem" href="/unity-atoms/subpackages/base-atoms">Base Atoms</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/subpackages/fsm">FSM</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/subpackages/input-system">Input System</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/subpackages/mobile">Mobile</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/subpackages/mono-hooks">Mono Hooks</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/subpackages/scene-mgmt">Scene Mgmt</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/subpackages/tags">Tags</a></li><li class="navListItem"><a class="navItem" href="/unity-atoms/subpackages/ui">UI</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="variables-and-constants"></a><a href="#variables-and-constants" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Variables and constants</h1>
<p>Below follows a step-by-step example of managing a player's health using Unity Atoms. If you haven't read the <a href="/unity-atoms/introduction/overview">Overview and philosopy</a> section you should do that before proceeding.</p>
<p><em>NOTE: This tutorial is based on <a href="https://medium.com/@adamramberg/unity-atoms-tiny-modular-pieces-utilizing-the-power-of-scriptable-objects-e8add1b95201">this</a> blog post.</em></p>
<h2><a class="anchor" aria-hidden="true" id="decouple-your-scripts-using-variables-and-constants"></a><a href="#decouple-your-scripts-using-variables-and-constants" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Decouple your scripts using Variables and Constants</h2>
<p>Variables are storing data, for example primitives, reference types or structs as Scriptable Objects. Because Variables are stored as Scriptable Objects they are not part of any scene, but could instead be seen as part of the game’s global shared state. Variables are designed to make it easy to inject them (via the Unity Inspector) and share them between your MonoBehaviours. A Constant is a trimmed down version of a Variable and it's value can't be altered at runtime. Lets see an example on how to use Variables and Constants!</p>
<p>Imagine you have a <code>PlayerHealth.cs</code> script that contains the health of the game’s player. We will attach the script to a <code>GameObject</code> with a <code>SpriteRenderer</code>, <code>BoxCollider2D</code> and a <code>Rigidbody2D</code> called Player. The health is represented by an int, which corresponds to an <code>IntVariable</code> in Unity Atoms. The script will look like this:</p>
<pre><code class="hljs css language-cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PlayerHealth</span> : <span class="hljs-title">MonoBehaviour</span>
{
    <span class="hljs-keyword">public</span> IntVariable Health;
}
</code></pre>
<p>In the game the player’s health will decrease when hitting something harmful. We will attach this <code>Harmful.cs</code> script to a GameObject called Harmful that also has a <code>SpriteRenderer</code> and a <code>BoxCollider2D</code> (as a trigger):</p>
<pre><code class="hljs css language-cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Harmful</span> : <span class="hljs-title">MonoBehaviour</span>
{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OnTriggerEnter2D</span>(<span class="hljs-params">Collider2D collider</span>)</span>
    {
        <span class="hljs-keyword">if</span> (collider.tag == <span class="hljs-string">"Player"</span>)
        {
            collider.GetComponent&lt;Player&gt;().Health.Value -= <span class="hljs-number">10</span>;
        }
    }
}
</code></pre>
<p>Finally we will add an UI <code>HealthBar.cs</code> script that we attach to a <code>GameObject</code> (inside a UI Canvas) with a <code>RectTransforn</code>, <code>CanvasRenderer</code> and UI <code>Image</code> component. The <code>HealthBar.cs</code> script will update the <code>Image</code> representing the health bar when the player’s health is changing:</p>
<pre><code class="hljs css language-cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HealthBar</span> : <span class="hljs-title">MonoBehaviour</span>
{
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> IntVariable Health;
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> IntConstant MaxHealth;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>(<span class="hljs-params"></span>)</span>
    {
        GetComponent&lt;Image&gt;().fillAmount = <span class="hljs-number">1.0f</span> * Health.Value / MaxHealth.Value;
    }
}
</code></pre>
<p>Since the player's health is going to change at runtime we make <code>Health</code> an <code>IntVariable</code> while <code>MaxHealth</code> is not going to be changed at runtime is therefore created as an <code>IntConstant</code>, They are both global assets stored as <code>.asset</code> files that could be shared between scripts. To create these <code>.asset</code> files we can right click somewhere in the Project window, and go <em>Create / Unity Atoms / Variables / Int</em> to create the Variable and go <em>Create / Unity Atoms / Constants / Int</em> to create the Constant. The Variable looks like this in the Unity Inspector:</p>
<p><img src="../assets/variables/int-variable_player-health-v1.png" alt="int-variable_player-health-v1"></p>
<p>And the Constant looks like this:</p>
<p><img src="../assets/variables/int-constant_max-player-health.png" alt="int-variable_player-health"></p>
<p>The <code>Developer Description</code> is a text describing the Variable in order to document it, the <code>Value</code> is the actual value of the Variable, and <code>Old Value</code> is the last value the Variable had after it was changed via code. <code>Changed</code> and <code>Changed With History</code> will be explained later in this tutorial. We name the <code>IntVariable</code> created to <code>Health</code> and the <code>IntConstant</code> to <code>MaxHealth</code> and set both their initial value to 100. After they are created we can drop them on the <code>PlayerHealth</code> and <code>HealthBar</code> components via Unity’s inspector like this:</p>
<p><img src="../assets/variables/player-health-script.png" alt="player-health-script"></p>
<p><img src="../assets/variables/healthbar-script-v1.png" alt="healthbar-script-v1"></p>
<p>Variables gives us a way of separating our game’s shared state from the actual implementation. It also makes our code less coupled since we do not need to reference other MonoBehaviours in our scripts, eg. we do not need to reference the <code>PlayerHealth.cs</code> script in our <code>HealthBar.cs</code> script like this:</p>
<pre><code class="hljs css language-cs">[<span class="hljs-meta">SerializeField</span>]
<span class="hljs-keyword">private</span> PlayerHealth playerHealth;
</code></pre>
<p>Hurray for less coupled code! 🎉</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/unity-atoms/introduction/faq"><span class="arrow-prev">← </span><span>FAQ</span></a><a class="docs-next button" href="/unity-atoms/tutorials/events"><span>Events</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#decouple-your-scripts-using-variables-and-constants">Decouple your scripts using Variables and Constants</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/unity-atoms/" class="nav-home"><img src="/unity-atoms/img/atoms-icon-white.png" alt="Unity Atoms" style="width:52px;height:52px"/></a><div><h5>Docs</h5><a href="/unity-atoms/introduction/quick-start">Quick Start</a><a href="/unity-atoms/api/actions">API</a><a href="/unity-atoms/subpackages/base-atoms">Subpackages</a></div><div><h5>Community</h5><a href="https://discord.gg/W4yd7E7" target="_blank" rel="noreferrer noopener">Discord</a><a href="https://gitter.im/unity-atoms/community#" target="_blank" rel="noreferrer noopener">Gitter</a></div><div><h5>More</h5><a href="https://medium.com/@adamramberg">Blog</a><a href="https://github.com/AdamRamberg/unity-atoms">GitHub</a><a class="github-button" href="https://github.com/AdamRamberg/unity-atoms" data-icon="octicon-star" data-count-href="/AdamRamberg/unity-atoms/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2021 Adam Ramberg</section></footer></div></body></html>